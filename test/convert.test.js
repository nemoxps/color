let test = require('tape');

let convert = require('../src/convert');


test('convert', (t) => {
    t.deepEqual(convert.rgb.rgb(0, 0, 0), [0, 0, 0]);
    t.deepEqual(convert.rgb.rgb([0, 0, 0]), [0, 0, 0]);
    t.deepEqual(convert.rgb.rgb([0, 0, 0, 0.5]), [0, 0, 0, 0.5]);
    t.deepEqual(convert.rgb.hsl([0, 0, 0, 0.5]), [0, 0, 0, 0.5]);
    
    let suites = {
        hex: {
            rgb: [
                [['00', '00', '00'], [0, 0, 0]],
                [['FF', 'FF', 'FF'], [255, 255, 255]],
                [['DE', 'AD', 'ED'], [222, 173, 237]],
                [['D', 'A', 'D'], [13, 10, 13]],
            ],
        },
        rgb: {
            hex: [
                [[0, 0, 0], ['00', '00', '00']],
                [[255, 255, 255], ['FF', 'FF', 'FF']],
                [[222, 173, 237], ['DE', 'AD', 'ED']],
                [[13, 10, 13], ['0D', '0A', '0D']],
                [[0, 0, 0, 0], ['00', '00', '00']],
            ],
            hsl: [
                [[0, 0, 0], [0, 0, 0]],
                [[255, 0, 0], [0, 100, 50]],
                [[0, 255, 0], [120, 100, 50]],
                [[0, 0, 255], [240, 100, 50]],
                [[255, 255, 0], [60, 100, 50]],
                [[0, 255, 255], [180, 100, 50]],
                [[255, 0, 255], [300, 100, 50]],
                [[255, 255, 255], [0, 0, 100]],
                [[102, 175, 233], [207, 75, 66]],
                [[0, 0, 0, 0], [0, 0, 0, 0]],
            ],
            hsv: [
                [[0, 0, 0], [0, 0, 0]],
                [[255, 0, 0], [0, 100, 100]],
                [[0, 255, 0], [120, 100, 100]],
                [[0, 0, 255], [240, 100, 100]],
                [[255, 255, 0], [60, 100, 100]],
                [[0, 255, 255], [180, 100, 100]],
                [[255, 0, 255], [300, 100, 100]],
                [[255, 255, 255], [0, 0, 100]],
                [[102, 175, 233], [207, 56, 91]],
                [[0, 0, 0, 0], [0, 0, 0, 0]],
            ],
            gray: [
                [[0, 0, 0], [0]],
                [[255, 255, 255], [100]],
                [[128, 128, 128], [50]],
                [[102, 175, 233], [67]],
                [[0, 0, 0, 0], [0]],
            ],
            lumagray: [
                [[0, 0, 0], [0]],
                [[255, 255, 255], [100]],
                [[128, 128, 128], [22]],
                [[102, 175, 233], [39]],
                [[0, 0, 0, 0], [0]],
            ],
            keyword: [
                [[0, 0, 0], ['black']],
                [[255, 0, 0], ['red']],
                [[0, 255, 0], ['lime']],
                [[0, 0, 255], ['blue']],
                [[255, 255, 0], ['yellow']],
                [[0, 255, 255], ['aqua']],
                [[255, 0, 255], ['fuchsia']],
                [[255, 255, 255], ['white']],
                [[102, 175, 233], ['cornflowerblue']],
                [[0, 0, 0, 0], ['black']],
            ],
        },
        hsl: {
            rgb: [
                [[0, 0, 0], [0, 0, 0]],
                [[0, 100, 0], [0, 0, 0]],
                [[0, 0, 100], [255, 255, 255]],
                [[0, 100, 100], [255, 255, 255]],
                [[0, 100, 50], [255, 0, 0]],
                [[120, 100, 50], [0, 255, 0]],
                [[240, 100, 50], [0, 0, 255]],
                [[207, 75, 66], [103, 175, 233]],
                [[0, 0, 0, 0], [0, 0, 0, 0]],
            ],
            hsv: [
                [[0, 0, 0], [0, 0, 0]],
                [[0, 100, 0], [0, 0, 0]],
                [[0, 0, 100], [0, 0, 100]],
                [[0, 100, 100], [0, 0, 100]],
                [[0, 100, 50], [0, 100, 100]],
                [[120, 100, 50], [120, 100, 100]],
                [[240, 100, 50], [240, 100, 100]],
                [[207, 75, 66], [207, 56, 92]],
                [[0, 0, 0, 0], [0, 0, 0, 0]],
            ],
        },
        hsv: {
            rgb: [
                [[0, 0, 0], [0, 0, 0]],
                [[0, 100, 0], [0, 0, 0]],
                [[0, 0, 100], [255, 255, 255]],
                [[0, 100, 100], [255, 0, 0]],
                [[120, 100, 100], [0, 255, 0]],
                [[240, 100, 100], [0, 0, 255]],
                [[207, 56, 91], [102, 174, 232]],
                [[0, 0, 0, 0], [0, 0, 0, 0]],
            ],
            hsl: [
                [[0, 0, 0], [0, 0, 0]],
                [[0, 100, 0], [0, 0, 0]],
                [[0, 0, 100], [0, 0, 100]],
                [[0, 100, 100], [0, 100, 50]],
                [[120, 100, 100], [120, 100, 50]],
                [[240, 100, 100], [240, 100, 50]],
                [[207, 56, 91], [207, 74, 66]],
                [[0, 0, 0, 0], [0, 0, 0, 0]],
            ],
        },
        gray: {
            rgb: [
                [[0], [0, 0, 0]],
                [[100], [255, 255, 255]],
                [[50], [128, 128, 128]],
                [[67], [171, 171, 171]],
            ],
            hsl: [
                [[0], [0, 0, 0]],
                [[100], [0, 0, 100]],
                [[50], [0, 0, 50]],
                [[67], [0, 0, 67]],
            ],
            hsv: [
                [[0], [0, 0, 0]],
                [[100], [0, 0, 100]],
                [[50], [0, 0, 50]],
                [[67], [0, 0, 67]],
            ],
        },
        lumagray: {
            rgb: [
                [[0], [0, 0, 0]],
                [[100], [255, 255, 255]],
                [[22], [56, 56, 56]],
                [[39], [99, 99, 99]],
            ],
            hsl: [
                [[0], [0, 0, 0]],
                [[100], [0, 0, 100]],
                [[22], [0, 0, 22]],
                [[39], [0, 0, 39]],
            ],
            hsv: [
                [[0], [0, 0, 0]],
                [[100], [0, 0, 100]],
                [[22], [0, 0, 22]],
                [[39], [0, 0, 39]],
            ],
        },
        keyword: {
            rgb: [
                [['BLACK'], [0, 0, 0]],
                [['black'], [0, 0, 0]],
                [['red'], [255, 0, 0]],
                [['lime'], [0, 255, 0]],
                [['blue'], [0, 0, 255]],
                [['yellow'], [255, 255, 0]],
                [['aqua'], [0, 255, 255]],
                [['fuchsia'], [255, 0, 255]],
                [['white'], [255, 255, 255]],
                [['cornflowerblue'], [100, 149, 237]],
            ],
        },
    };
    for (let [fromName, _suites] of Object.entries(suites))
      for (let [toName, suite] of Object.entries(_suites))
        t.test(`convert.${fromName}.${toName}`, (t) => {
            for (let [arg, expected] of suite)
              t.deepEqual(convert[fromName][toName](arg), expected);
            
            t.end();
        });
    
    t.end();
});